<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>




    <div id="box">等待加载</div>



    <script>

        var box = document.getElementById("box")
        //加载图片资源的例子
        function loadImageAsync(url){
            const promise = new Promise(function(resolve,reject){
                //异步处理，消耗时间的代码
                const image = new Image();
                image.src = url;
                image.onload = function(){
                    resolve(image);
                }
                image.onerror = function(){
                    reject(new Error('Could not load image at' + url))
                }

                
            })

            return promise;
        }

        const promise = loadImageAsync("https://tse3-mm.cn.bing.net/th/id/OIP-C.7ebtykwq_tpltvTeozWnWgHaEo?pid=ImgDet&rs=1");
        promise.then(function(data){
            //成功
            box.appendChild(data)
        },function(error){
            //失败
            box.innerHTML = "图片加载失败"
        })











    </script>
</body>
</html>